webpackJsonp([1],{NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r("qb6w");var o=r("7+uW"),a=r("mvHQ"),n=r.n(a),s=r("/ocq"),i=r("Dd8w"),c=r.n(i),d={name:"CadastroEndereco",props:["listaEnderecos"],data:function(){return{endereco:{bairro:"",cep:"",complemento:"",id:0,localidade:"",logradouro:"",uf:""}}},created:function(){if(void 0!==this.$route.params.id){var e=parseInt(this.$route.params.id,10),t=this.listaEnderecos.find(function(t){return t.id===e});void 0!==t&&(this.endereco=t)}},methods:{enviarCadastroEndereco:function(e){e.preventDefault();var t=void 0===this.$route.params.id?"adicionarEndereco":"atualizarEndereco";this.$emit(t,this.endereco)},obterDadosEnderecoViaApi:function(e){var t=this,r=e.target.value;8===r.length&&fetch("https://viacep.com.br/ws/"+r+"/json/").then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(e){t.endereco=c()({},t.endereco,{bairro:e.bairro,complemento:e.complemento,localidade:e.localidade,logradouro:e.logradouro,uf:e.uf})})},removerEndereco:function(){this.$emit("removerEndereco",this.endereco.id)}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"justify-content-center row"},[r("div",{staticClass:"col-12 col-sm-7"},[r("form",{on:{submit:e.enviarCadastroEndereco}},[r("h1",{staticClass:"h3"},[e._v("Adicionar endereço")]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"cep"}},[e._v("CEP")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.cep,expression:"endereco.cep"}],staticClass:"form-control",attrs:{id:"cep",required:"required",type:"number"},domProps:{value:e.endereco.cep},on:{keyup:function(t){e.obterDadosEnderecoViaApi(t)},input:function(t){t.target.composing||e.$set(e.endereco,"cep",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"logradouro"}},[e._v("Logradouro")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.logradouro,expression:"endereco.logradouro"}],staticClass:"form-control",attrs:{id:"logradouro",required:"required",type:"text"},domProps:{value:e.endereco.logradouro},on:{input:function(t){t.target.composing||e.$set(e.endereco,"logradouro",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"complemento"}},[e._v("Complemento")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.complemento,expression:"endereco.complemento"}],staticClass:"form-control",attrs:{id:"complemento",required:"required",type:"text"},domProps:{value:e.endereco.complemento},on:{input:function(t){t.target.composing||e.$set(e.endereco,"complemento",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"bairro"}},[e._v("Bairro")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.bairro,expression:"endereco.bairro"}],staticClass:"form-control",attrs:{id:"bairro",required:"required",type:"text"},domProps:{value:e.endereco.bairro},on:{input:function(t){t.target.composing||e.$set(e.endereco,"bairro",t.target.value)}}})]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"col-9 form-group"},[r("label",{attrs:{for:"localidade"}},[e._v("Localidade")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.localidade,expression:"endereco.localidade"}],staticClass:"form-control",attrs:{id:"localidade",required:"required",type:"text"},domProps:{value:e.endereco.localidade},on:{input:function(t){t.target.composing||e.$set(e.endereco,"localidade",t.target.value)}}})]),r("div",{staticClass:"col-3 form-group"},[r("label",{attrs:{for:"uf"}},[e._v("UF")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.uf,expression:"endereco.uf"}],staticClass:"form-control",attrs:{id:"uf",required:"required",type:"text"},domProps:{value:e.endereco.uf},on:{input:function(t){t.target.composing||e.$set(e.endereco,"uf",t.target.value)}}})])]),r("div",{staticClass:"text-right"},[r("ul",{staticClass:"list-inline"},[r("li",{staticClass:"list-inline-item"},[r("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:"/"}},[e._v("Cancelar")])],1),void 0===e.$route.params.id?r("li",{staticClass:"list-inline-item"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Criar")])]):[r("li",{staticClass:"list-inline-item"},[r("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:e.removerEndereco}},[e._v("Excluir")])]),e._m(0)]],2)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"list-inline-item"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Atualizar")])])}]},u=r("VU/8")(d,l,!1,null,null,null).exports,m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.listaEnderecos.length?r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-striped"},[e._m(0),r("tbody",e._l(e.listaEnderecos,function(t){return r("tr",{key:t.id},[r("td",[e._v(e._s(t.cep))]),r("td",[e._v(e._s(t.logradouro))]),r("td",[e._v(e._s(t.complemento))]),r("td",[e._v(e._s(t.bairro))]),r("td",[e._v(e._s(t.localidade))]),r("td",[e._v(e._s(t.uf))]),r("td",[r("router-link",{staticClass:"btn btn-secondary btn-sm",attrs:{to:{name:"EdicaoEndereco",params:{id:t.id}}}},[e._v("Editar")])],1)])}))])]):r("div",{staticClass:"text-center"},[e._v("Nenhum endereço cadastrado")])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("CEP")]),t("th",[this._v("Logradouro")]),t("th",[this._v("Complemento")]),t("th",[this._v("Bairro")]),t("th",[this._v("Localidade")]),t("th",[this._v("UF")]),t("th")])])}]},p={name:"ListaEnderecos",props:["listaEnderecos"],components:{"tabela-enderecos":r("VU/8")({name:"TabelaEnderecos",props:["listaEnderecos"]},m,!1,null,null,null).exports}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mb-3"},[t("div",{staticClass:"row"},[this._m(0),t("div",{staticClass:"col-auto"},[t("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:"/cadastro-endereco"}},[this._v("Adicionar")])],1)]),t("tabela-enderecos",{attrs:{listaEnderecos:this.listaEnderecos}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col"},[t("h1",{staticClass:"h3"},[this._v("Lista de endereços")])])}]},f=r("VU/8")(p,v,!1,null,null,null).exports;o.a.use(s.a);var h=new s.a({routes:[{path:"/",name:"ListaEnderecos",component:f},{path:"/cadastro-endereco",name:"CadastroEndereco",component:u},{path:"/cadastro-endereco/:id",name:"EdicaoEndereco",component:u}]}),b={render:function(){var e=this.$createElement;return(this._self._c||e)("footer",{staticClass:"border-top mb-3 py-1 small text-center"},[this._v("Coded by Sávio Mendes")])},staticRenderFns:[]},E={render:function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"navbar navbar-dark bg-dark border border-secondary my-3 rounded"},[t("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[this._v("Lista de endereços")])],1)},staticRenderFns:[]},_={name:"desafio-frontend-estantevirtual",components:{rodape:r("VU/8")({name:"Rodape"},b,!1,null,null,null).exports,cabecalho:r("VU/8")({name:"Cabecalho"},E,!1,null,null,null).exports},data:function(){return{listaEnderecos:[]}},created:function(){this.listaEnderecos=JSON.parse(window.localStorage.getItem("listaEnderecos"))||[]},methods:{atualizarEndereco:function(e){var t=this.listaEnderecos.findIndex(function(t){return t.id===e.id});this.listaEnderecos[t]=e,h.push("/")},adicionarEndereco:function(e){var t=e;if(this.listaEnderecos.length){var r=this.listaEnderecos[this.listaEnderecos.length-1];t.id=r.id+1}else t.id=1;this.listaEnderecos.push(t),h.push("/")},removerEndereco:function(e){window.confirm("Deseja realmente excluir esse endereço?")&&(this.listaEnderecos=this.listaEnderecos.filter(function(t){return t.id!==e}),h.push("/"))}},watch:{listaEnderecos:function(e){window.localStorage.setItem("listaEnderecos",n()(e))}}},C={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container-fluid",attrs:{id:"app"}},[t("cabecalho"),t("router-view",{attrs:{listaEnderecos:this.listaEnderecos},on:{atualizarEndereco:this.atualizarEndereco,adicionarEndereco:this.adicionarEndereco,removerEndereco:this.removerEndereco}}),t("rodape")],1)},staticRenderFns:[]},g=r("VU/8")(_,C,!1,null,null,null).exports;o.a.config.productionTip=!1,new o.a({el:"#app",router:h,components:{App:g},template:"<App/>"})},qb6w:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b5e053368e295799e18a.js.map